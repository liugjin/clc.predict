<div class="row nav-top"><div class="col s2"><span>工单管理</span></div><div class="col s10"><nav><div style="display:flex;" class="right"><report-query-time controller="vm" parameters="{}" style="margin-right:10px;"></report-query-time><ul><li><div style="margin-right: 1rem;" ng-click="queryReport()" title="查询" class="btn standard-report-btn"><span class="hide-on-med-and-down">查询</span></div></li><li><work-button controller="vm" parameters="{}"></work-button></li></ul></div></nav></div></div><div style="margin: 0px;" class="row inventory"><div style="overflow:auto;padding:0.5rem" class="col s12 m12 l12 invent-list"><!-- 列表视图--><table class="responsive-table centered highlight new-table"><thead><tr><th style="width:200px;"><div ng-click="station.equipments.sortBy(&quot;model.name&quot;)" class="col-header"><span>单号</span><span ng-show="station.equipments.predicate == &quot;model.name&quot;" class="right">{{station.equipments.reverse && "▽" || "△"}}</span></div></th><th style="width:150px;"><div ng-click="station.equipments.sortBy(&quot;model.equipment&quot;)" class="col-header"><span>工单类型</span><span ng-show="station.equipments.predicate == &quot;model.equipment&quot;" class="right">{{station.equipments.reverse && "▽" || "△"}}</span></div></th><th style="width:120px;"><div ng-click="station.equipments.sortBy(&quot;model.stationName&quot;)" class="col-header"><span>工单状态</span><span ng-show="station.equipments.predicate == &quot;model.stationName&quot;" class="right">{{station.equipments.reverse && "▽" || "△"}}</span></div></th><th style="width:150px;"><div class="col-header"><span>当前执行时间</span><span ng-show="station.equipments.predicate == &quot;model.tag&quot;" class="right">{{station.equipments.reverse && "▽" || "△"}}</span></div></th><th style="width:150px;"><div ng-click="station.equipments.sortBy(&quot;model.templateName&quot;)" class="col-header"><span>负责人</span><span ng-show="station.equipments.predicate == &quot;model.templateName&quot;" class="right">{{station.equipments.reverse && "▽" || "△"}}</span></div></th><th style="width:150px;"><div ng-click="station.equipments.sortBy(&quot;model.typeName&quot;)" class="col-header"><span>创建时间</span><span ng-show="station.equipments.predicate == &quot;model.typeName&quot;" class="right">{{station.equipments.reverse && "▽" || "△"}}</span></div></th><th style="width:150px;"><div ng-click="station.equipments.sortBy(&quot;model.creator&quot;)" class="col-header"><span>创建人</span><span ng-show="station.equipments.predicate == &quot;model.creator&quot;" class="right">{{station.equipments.reverse && "▽" || "△"}}</span></div></th><th><div class="col-header"><span>操作</span></div></th></tr></thead><tbody><tr ng-repeat="taskItem in tasks "><td>{{taskItem.name}}</td><td>{{taskItem.typeName}}</td><td>{{taskItem.statusName || '-'}}</td><td>{{taskItem.currexcutetime || '-'}}</td><td>{{taskItem.excutor}}</td><td>{{taskItem.createtime || '-'}}</td><td>{{taskItem.creator}}</td><td><a href="#task-handle-modal" ng-click="handleTask(taskItem);" title="处理工单" class="waves-effect waves-light modal-trigger"><img ng-src="{{editGreenImg}}"/></a><a href="" ng-click="deleteTask(taskItem); $event.stopPropagation();" title="删除工单" class="waves-effect waves-light"><img ng-src="{{deleteGreenImg}}"/></a></td></tr></tbody></table></div></div><div id="task-new-modal" md-modal="md-modal" style="width: 60%;" class="modal modal-fixed-footer"><div class="modal-content"><style>.workrow{
     height: 89px;
     border:1px solid #4BA5F8;
     margin:0px !important;
 }
.worksheetrow{
    border:1px solid #4BA5F8;
}
.pdworkrow{
     height: 36px !important;
     border: 1px solid #4BA5F8;
     margin: 0px !important;
}
</style><div class="row"><div class="container"><div class="col s12 m12 l12"><div class="input-field col s12"><span>工单号 *</span><input type="text" ng-model="currTask.name" ng-disabled="currTask._id" required="required"/></div></div><div class="col s12 m12 l12"><div class="input-field col s12"><span>工作内容</span><div class="row workrow"><div style="padding:0px;height:100%;background-color:#F86066" class="col s12 m4 l2"><div style="text-align:center;line-height:80px;"><span>{{checkContent[0].equiptypeName}}</span></div></div><div class="col s12 m4 l10"><div class="row worksheetrow"><div class="col s12 m6 l6"><span>{{checkContent[0].equips[0].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[0].equips[0].value[0].name}}</span><div><span>{{checkContent[0].equips[0].value[1].name}}</span></div></div></div><div class="row worksheetrow"><div class="col s12 m6 l6"><span>{{checkContent[0].equips[1].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[0].equips[1].value[0].name}}</span><div><span>{{checkContent[0].equips[1].value[1].name}}</span></div></div></div></div></div><div class="row workrow"><div style="padding:0px;height:100%;background-color:#1B95F5" class="col s12 m4 l2"><div style="text-align:center;line-height:80px;"><span>{{checkContent[1].equiptypeName}}</span></div></div><div class="col s12 m4 l10"><div class="row worksheetrow"><div class="col s12 m6 l6"><span>{{checkContent[1].equips[0].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[1].equips[0].value[0].name}}</span><div><span>{{checkContent[1].equips[0].value[1].name}}</span></div></div></div><div class="row worksheetrow"><div class="col s12 m6 l6"><span>{{checkContent[1].equips[1].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[1].equips[1].value[0].name}}</span><div><span>{{checkContent[1].equips[1].value[1].name}}</span></div></div></div></div></div><div class="row pdworkrow"><div style="padding:0px;height:100%;background-color:#1B95F5" class="col s12 m4 l2"><div style="text-align:center;line-height:25px;"><span>{{checkContent[2].equiptypeName}}</span></div></div><div class="col s12 m4 l10"><div class="col s12 m12 l12"><span>{{checkContent[2].equips[0].equipmentName}}</span></div></div></div><div class="row workrow"><div style="padding:0px;height:100%;background-color:#1B95F5" class="col s12 m4 l2"><div style="text-align:center;line-height:80px;"><span>{{checkContent[3].equiptypeName}}</span></div></div><div class="col s12 m8 l10"><div class="col s12 m6 l6"><span>{{checkContent[3].equips[0].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[3].equips[1].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[3].equips[2].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[3].equips[3].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[3].equips[4].equipmentName}}</span></div><div class="col s12 m6 l6"><span>{{checkContent[3].equips[5].equipmentName}}</span></div></div></div><div class="row workrow"><div style="padding:0px;height:100%;background-color:#1B95F5" class="col s12 m4 l2"><div style="text-align:center;line-height:80px;"><span>工作反馈情况</span></div></div><div style="padding-right:0px;padding-left:0px;" class="col s12 m8 l10"><textarea type="text" placeholder="无反馈情况" ng-model="currTask.memo" required="required" style="border: solid 0px #0652a2;height:89px;width:100%;color:white" class="validate"></textarea></div></div></div></div></div></div></div><div class="modal-footer modal-nav"><nav><div class="nav-wrapper"><ul><li><a href="" ng-click="saveTask()" title="保存"><i class="material-icons left">save</i><span class="hide-on-med-and-down">保存</span></a></li><ul class="right"><li><a href="" class="modal-action modal-close"><i class="material-icons right">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></ul></div></nav></div></div><div id="task-handle-modal" md-modal="md-modal" style="width: 80%;max-height:88%;height:90vh;" class="modal modal-fixed-footer"><div style="overflow-x:hidden;" class="modal-content"><style>.confirmtask
.workrow{
    height: 125px;
    border:1px solid #4BA5F8;
    margin:0px !important;
}
.worktd{
    width:180px;
    border:solid 1px #20509B;
}
</style><div class="row"><div class="col s12 m6 l5"><div ng-show="($root.user.user == selectNode.manager.id &amp;&amp; selectedTask.phase.progress != 1) || receiveFlag" class="nav-flex-grow"><a ng-click="showTaskInfo(1)" title="工作内容" ng-style="{&quot;background&quot;: (workFlag || receiveFlag)?&quot;rgba(0, 188, 212, 0.7)&quot;:&quot;#112e69&quot;}" class="waves-effect waves-light btn">工作内容<i style="margin-right: 7px;font-size: 1.3rem;line-height:30px;" class="material-icons left">speaker_notes</i></a></div><div ng-show="!receiveFlag" class="nav-flex-grow"><a ng-click="showTaskInfo(2)" title="流程详情" ng-style="{&quot;background&quot;: detailFlag?&quot;rgba(0, 188, 212, 0.7)&quot;:&quot;#112e69&quot;}" class="waves-effect waves-light btn">流程详情<i style="margin-right: 7px;font-size: 1.3rem;line-height:30px;" class="material-icons left">swap_calls</i></a></div></div></div><div ng-show="workFlag || receiveFlag" class="row confirmtask"><div class="container"><div class="col s12 m12 l12"><div style="text-align:center;"><span style="font-size:14px;">工单号:</span><span style="font-size:18px;margin-left:10px">{{currTask.name}}</span></div><div ng-show="receiveFlag" style="text-align:center;"><span style="color:greenyellow" class="title">【当前工单没有指定负责人，点击确认接收工单】</span></div><div><span>工作内容<div id="detail-table"></div></span></div></div></div></div><div ng-show="detailFlag" class="row confirmtask"><div ng-show="!receiveFlag"><task-timeline controller="" parameters="{datas:current}"></task-timeline></div></div></div><div class="modal-footer modal-nav"><nav><div class="nav-wrapper"><ul><li ng-show="receiveFlag"><a href="" ng-click="acceptWorkSheet()" title="接收工单"><i class="material-icons left">email</i><span class="hide-on-med-and-down">接收工单</span></a></li><li ng-show="$root.user.user == selectNode.manager.id &amp;&amp; selectedTask.phase.progress != 1  "><a href="" ng-click="handleTaskOper(&quot;approval&quot;)" title="批准"><i class="material-icons left">done</i><span class="hide-on-med-and-down">批准</span></a></li><li ng-show="$root.user.user == selectNode.manager.id &amp;&amp; selectedTask.phase.progress != 1"><a href="" ng-click="handleTaskOper(&quot;reject&quot;)" title="拒绝"><i class="material-icons left">pan_tool</i><span class="hide-on-med-and-down">拒绝</span></a></li><li ng-show="$root.user.user == selectNode.manager.id &amp;&amp; selectedTask.phase.progress != 1"><a href="" ng-click="handleTaskOper(&quot;cancel&quot;)" title="取消"><i class="material-icons left">cancel</i><span class="hide-on-med-and-down">取消</span></a></li><!--li(ng-show="$root.user.user == selectNode.manager.id")--><!--    a(href='', ng-click='handleTaskOper("forward")', title='转发')--><!--        i.material-icons.left rotate_90_degrees_ccw--><!--        span.hide-on-med-and-down 转发--><ul class="right"><li><a href="" class="modal-action modal-close"><i class="material-icons right">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></ul></div></nav></div></div>