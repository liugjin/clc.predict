<div class="row nav-top"><div class="col l2"><span style="font-size: 14px">站点管理</span></div><div class="col l10"><nav><div class="nav-wrapper"><ul class="right"><li ng-show="project.model._role.isAdmin || project.model._role.operations[0]=='_all' || project.model._role.operations.indexOf('station-manager-add')&gt;=0"><div data-target="station-new-modal" ng-click="createStation()" title="新建站点" class="btn"><span>新建</span></div></li></ul></div></nav></div></div><div class="row margin-top-20"><div class="col s12"><div class="card item-list"><table class="responsive-table highlight new-table station-table"><thead><tr><th>站点ID</th><th>站点名称</th><th>上级站点</th><th>创建时间</th><th>更新时间</th><th>描述</th><th>操作</th></tr></thead><tbody><tr ng-repeat="station in allStations"><td>{{station.model.station}}</td><td>{{station.model.name}}</td><td>{{getStationParentName(station.model.parent) || '-'}}</td><td>{{station.model.createtime | date:'yyyy-MM-dd HH:mm:ss'}}</td><td>{{station.model.updatetime | date:'yyyy-MM-dd HH:mm:ss'}}</td><td>{{station.model.desc}}</td><td><a href="#station-edit-modal" ng-click="selectStation(station)" ng-show="project.model._role.isAdmin || project.model._role.operations[0]=='_all' || project.model._role.operations.indexOf('station-manager-edit')&gt;=0" class="btn modal-trigger edit-btn">编辑</a><a ng-href="" ng-click="removeStation(station)" ng-show="project.model._role.isAdmin || project.model._role.operations[0]=='_all' || project.model._role.operations.indexOf('station-manager-del')&gt;=0" class="btn delete-btn">删除</a></td></tr></tbody></table></div></div></div><div id="station-new-modal" md-modal="md-modal" style="width: 80%;" class="modal modal-fixed-footer"><div class="modal-content"><div class="row"><div class="col s12 m6 l3"><div class="input-field col s12"><span>站点ID *</span><input id="station1" type="text" ng-model="station.model.station" ng-disabled="station.model._id" required="required" class="validate"/></div><div class="input-field col s12"><span>站点名称 *</span><input id="name1" type="text" ng-model="station.model.name" required="required" class="validate"/></div><div class="input-field col s12"><span>上级站点</span><select ng-model="station.model.parent" md-select="md-select" data="station"><option value="">无</option><option ng-repeat="station in project.stations.items | filter: filterStation()" value="{{station.model.station}}" ng-selected="station.model.parent == station.model.station">{{station.model.name}}</option></select></div><div class="input-field col s12"><span>描述</span><input id="desc" type="text" ng-model="station.model.desc" class="validate"/></div></div><div class="col s12 m6 l3"><div class="input-field col s12"><span title="支持经纬度拷贝格式：114.03956,22.621333">经度 (°)</span><input id="longitude" type="text" ng-model="station.model.longitude" ng-paste="pasteLon($event)" class="validate"/></div><div class="input-field col s12"><span title="支持经纬度拷贝格式：114.03956,22.621333">纬度 (°)</span><input id="latitude" type="text" ng-model="station.model.latitude" ng-paste="pasteLat($event)" class="validate"/></div></div><div class="col s12 m6 l3"><div class="input-field"><span>站点图片</span><div class="img-uploader model-img-upload"><image-uploader ng-model="station.model.image" dir="{{controller.options.uploadUrl}}"></image-uploader></div></div></div></div></div><div class="modal-footer modal-nav"><nav><div class="nav-wrapper"><ul><li><a href="" ng-click="saveStation()" title="保存"><i class="material-icons left">save</i><span class="hide-on-med-and-down">保存</span></a></li><ul class="right"><li><a href="" class="modal-action modal-close"><i class="material-icons right">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></ul></div></nav></div></div><div id="station-edit-modal" md-modal="md-modal" style="width: 80%;" class="modal modal-fixed-footer"><div class="modal-content"><div class="row"><div class="col s12 m6 l3"><div class="input-field col s12"><span>站点ID</span><input id="station" type="text" ng-model="station.model.station" ng-disabled="station.model._id" class="validate"/></div><div class="input-field col s12"><span>站点名称</span><input id="name" type="text" ng-model="station.model.name" class="validate"/></div><div class="input-field col s12"><span>上级站点</span><select ng-model="station.model.parent" md-select="md-select" data="station"><option value="">无</option><option ng-repeat="station in project.stations.items | filter: filterStation()" value="{{station.model.station}}" ng-selected="station.model.parent == station.model.station">{{station.model.name}}</option></select></div><div class="input-field col s12"><span>描述</span><input id="desc" type="text" ng-model="station.model.desc" class="validate"/></div></div><div class="col s12 m6 l3"><div class="input-field col s12"><span title="支持经纬度拷贝格式：114.03956,22.621333">经度 (°)</span><input id="longitude" type="text" ng-model="station.model.longitude" ng-paste="pasteLon($event)" class="validate"/></div><div class="input-field col s12"><span title="支持经纬度拷贝格式：114.03956,22.621333">纬度 (°)</span><input id="latitude" type="text" ng-model="station.model.latitude" ng-paste="pasteLat($event)" class="validate"/></div></div><div class="col s12 m6 l3"><div class="input-field"><span>站点图片</span><div class="img-uploader model-img-upload"><image-uploader ng-model="station.model.image" dir="{{controller.options.uploadUrl}}"></image-uploader></div></div></div></div></div><div class="modal-footer modal-nav"><nav><div class="nav-wrapper"><ul><li><a href="" ng-click="saveStation()" title="保存"><i class="material-icons left">save</i><span class="hide-on-med-and-down">保存</span></a></li><ul class="right"><li><a href="" class="modal-action modal-close"><i class="material-icons right">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></ul></div></nav></div></div><div id="station-manager-prompt-modal" md-modal="md-modal" style="width: 80%;height: 50%; " class="modal modal-fixed-footer"><div class="modal-content white-text"><h4>确认删除{{modal.title}}站点吗？</h4></div><div class="modal-footer modal-nav"><nav><div class="nav-wrapper"><ul class="right"><li><a href="" ng-click="modal.confirm(true)"><i class="material-icons right">check</i><span class="hide-on-med-and-down">确认</span></a></li><li><a href="" ng-click="modal.confirm(false)" class="modal-close"><i class="material-icons right">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></div></nav></div></div>