<style>input.valid:not([type]), input.valid:not([type]):focus, input.valid[type=text]:not(.browser-default), input.valid[type=text]:not(.browser-default):focus, input.valid[type=password]:not(.browser-default), input.valid[type=password]:not(.browser-default):focus, input.valid[type=email]:not(.browser-default), input.valid[type=email]:not(.browser-default):focus, input.valid[type=url]:not(.browser-default), input.valid[type=url]:not(.browser-default):focus, input.valid[type=time]:not(.browser-default), input.valid[type=time]:not(.browser-default):focus, input.valid[type=date]:not(.browser-default), input.valid[type=date]:not(.browser-default):focus, input.valid[type=datetime]:not(.browser-default), input.valid[type=datetime]:not(.browser-default):focus, input.valid[type=datetime-local]:not(.browser-default), input.valid[type=datetime-local]:not(.browser-default):focus, input.valid[type=tel]:not(.browser-default), input.valid[type=tel]:not(.browser-default):focus, input.valid[type=number]:not(.browser-default), input.valid[type=number]:not(.browser-default):focus, input.valid[type=search]:not(.browser-default), input.valid[type=search]:not(.browser-default):focus, textarea.materialize-textarea.valid, textarea.materialize-textarea.valid:focus, .select-wrapper.valid>input.select-dropdown{
    box-shadow:0 1px 0 0 #0050A0;
}
[type="checkbox"]+span:not(.lever):before, [type="checkbox"]:not(.filled-in)+span:not(.lever):after{
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 18px;
    height: 18px;
    z-index: 0;
    border: 2px solid #FFFFFFFF;
    border-radius: 1px;
    margin-top: 3px;
    -webkit-transition: .2s;
    transition: .2s;
}
[type="checkbox"]+span:not(.lever){
    position: relative;
    padding-left: 35px;
    cursor: pointer;
    display: inline-block;
    height: 25px;
    line-height: 25px;
    font-size: 0.9rem;
    user-select: none;
}
ul.fancytree-container{
    height:100% !important;
}
.tree{
    height:43vh;
}</style><div style="height: 93vh;overflow-x:hidden;" class="row user-groups"><div style="height: 76px;line-height: 5;background-color: rgba(26, 69, 162, 0.4);" class="row"><div class="usergroups-title">任务安排</div></div><div style="height: calc(100% - 96px);background-color: rgba(26, 69, 162, 0.4);margin: 10px;padding: 0;" class="row usergroups-content"><!-- 右上角 点击按钮 --!><!--.col.s12(style="height: 76px;padding: 18px;margin-bottom: 24px;")--><!--    a.btn.right.usergroups-button(ng-repeat="(index1, btn) in textinfo.btns" ng-click="btnClick(index1)" ng-show="btn.show") {{btn.title}}--><!-- 左下角 值班信息 --!><div style="margin-top:50px;padding-right:50px;" class="col s6 m4 l4"><div style="padding: 0 0px;" class="row"><div class="row"><div style="ext-align: left;margin-bottom: 40px;line-height: 3;font-size: 0.9rem;color: #fcf5e8;padding: 0;text-align:center;" class="col s3">任务信息</div><div style="min-height: 600px;border: 1px solid #0050A0;padding: 0;" class="col s9"><div style="padding: 0;background: #112d69;height: 40px;line-height: 3;text-align: center;" class="col s12"><div class="col s2"></div><div class="col s5">工班ID</div><div class="col s5">工班名称</div></div><div style="padding: 0;text-align: center;" ng-repeat="(index3, shiftItem) in shiftList" ng-click="selectShift(index3, shiftItem)" ng-style="{'background':selectNodeId==index3?'#356bde':''}" class="col s12 item-selects"><div class="col s2 item-select"><i style="margin-right: 7px;font-size: 1.3rem;line-height:30px;" class="material-icons left">access_alarms</i></div><div class="col s5 item-select"><span>{{shiftItem.shift || '--'}}</span></div><div class="col s5 item-select"><span>{{shiftItem.name || '--'}}</span></div></div></div></div><div class="row"><div style="padding-top: 10px;margin-left: 15px;" class="col s12"><a ng-repeat="(index1, btn) in textinfo.btns" ng-click="btnClick(index1)" ng-show="btn.show" class="btn right usergroups-button">{{btn.title}}<i style="line-height:2;" class="material-icons left">{{btn.icon}}</i></a></div></div></div></div><!-- 右下角 表单信息 --!><div style="padding: 0 0 0 20px;margin-top:50px;" class="col s12 m8 l8"><!-- 上四行 --!><div class="row usergroups-list"><!--.col.s6(style="height: 76px;padding: 0;")--><!--    .col.l3.list-title {{item.title}}--><!--    .col.l9(style="padding: 0;")--><!--        input.list-input(ng-if="item.type != 'select' && item.type != 'day'" ng-model="groupInfo[item.field]")--><!--        input.datepickerInput.list-input.z-depth-0(ng-if="item.type == 'day'" ng-model="groupInfo[item.field]" readonly="readonly")--><!--        select.browser-default.filled-in.list-input.list-select(ng-if="item.type == 'select'" ng-model="groupInfo[item.field]")--><!--            option(value="") --请选择----><!--            option(value="{{option.value}}" ng-repeat="(y, option) in item.option") {{option.name}}--><!--        i.material-icons.list-icon(ng-if="item.type") arrow_drop_down--><div style="height: 56px;padding: 0;" class="col s6"><div class="col l3 list-title">工班ID</div><div style="padding: 0;" class="col l9"><input ng-model="groupInfo.shift" ng-show="editState" required="required" pattern="[^ [A-Za-z0-9-]+$]{1,20}" class="list-input"/><input ng-model="groupInfo.shift" ng-show="!editState" disabled="disabled" style="cursor: default;background: rgba(75,166,248,0.2);" class="list-input"/></div></div><div style="height: 56px;padding: 0;" class="col s6"><div class="col l3 list-title">工班名称</div><div style="padding: 0;" class="col l9"><input ng-model="groupInfo.name" class="list-input"/></div></div></div><div class="row usergroups-list"><div style="height: 56px;padding: 0;" class="col s6"><div class="col l3 list-title">计划生效时间</div><div style="padding: 0;" class="col l9"><input ng-model="groupInfo.startTime" readonly="readonly" ng-click="setDrop(0)" class="datepickerInput list-input z-depth-0"/><i class="material-icons list-icon">arrow_drop_down</i></div></div><div style="height: 56px;padding: 0;" class="col s6"><div class="col l3 list-title">计划失效时间</div><div style="padding: 0;" class="col l9"><input ng-model="groupInfo.endTime" readonly="readonly" ng-click="setDrop(1)" class="datepickerInput list-input z-depth-0"/><i class="material-icons list-icon">arrow_drop_down</i></div></div></div><div class="row usergroups-list"><div style="height: 76px;padding: 0;" class="col s12"><div class="col l2 list-title">计划触发周期</div><div style="padding: 0 0 10px 0;margin-left: -45px;border: 1px solid #0050A0;width: 82%;" class="col l9"><div style="margin:10px;" class="col s12"><span ng-repeat="day in weekdays"><!--md-checkbox(ng-model='vm.current.weekdays[$index]', label='{{day.name}}', ng-true-value='{{day.value}}', ng-false-value='{{0}}')--><md-checkbox ng-model="day.chkstatus" label="{{day.name}}"></md-checkbox><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span></div><div class="col s12 m12 l3"><input type="time" ng-model="groupInfo.onTime" input-format="input-format" class="validate list-input"/></div><!--i.material-icons.list-icon arrow_drop_down--></div></div><!--.col.s6(style="height: 76px;padding: 0;")--><!--    .col.l3.list-title 下班时间--><!--    .col.l9(style="padding: 0;")--><!--        input.list-input(ng-model="groupInfo.offTime" type="time")--><!--        //i.material-icons.list-icon arrow_drop_down--></div><div style="height: 80px;" class="row usergroups-list"><div class="col s6"></div><div class="col s6"><div class="row"><div class="col s6"><div style="margin-top:50px;margin-left:120px;" class="row"><div class="col s4"><a title="上移工作内容记录" ng-click="contentMoveup()" class="btn workcontent-button"><i style="" class="material-icons">keyboard_arrow_up</i></a></div><div class="col s4"><a title="下移工作内容记录" ng-click="contentMovedown()" class="btn workcontent-button"><i style="" class="material-icons">keyboard_arrow_down</i></a></div></div></div><div class="col s6"><a href="#stationequip-signal-modal" style="margin-top:32px;margin-right:50px;" class="btn right usergroups-button modal-trigger">工作内容<i style="margin-top:-10px;" class="material-icons right">keyboard_arrow_right</i></a></div></div></div></div><!-- 描述 --!><div style="height: 168px;" class="row usergroups-list"><div style="height: 100%;padding: 0;" class="col s6"><div class="col l3 list-title">描述</div><div style="padding: 0;height:100%" class="col l9"><textarea ng-model="groupInfo.desc" style="width:86%;height:100%;resize: none;border: 1px solid #0050A0 !important;cursor: pointer;color: white;padding: 5px;"></textarea></div></div><div style="height: 100%;padding: 0;" class="col s6"><div class="col l3 list-title">工作内容</div><div style="width:65%; overflow:auto;  height: 100%;border: 1px solid #0050A0;padding: 0;font-size:14px;" class="col s9"><div style="padding: 0;background: #112d69;height: 40px;line-height: 3;text-align: center;" class="col s12"><div class="col s2">序号</div><div class="col s3">站点名称</div><div class="col s4">设备名称</div><div class="col s3">作业项</div></div><div style="padding: 0;text-align: left;" ng-repeat="(index3, selectedEquipSignalItem) in selectedEquipSignalList" ng-click="selectWorkcontent(index3, selectedEquipSignalItem)" ng-style="{'background':workcontentIndex==index3?'#356bde':''}" class="col s12 item-selects"><div class="col s2 item-select"><span>{{selectedEquipSignalItem.orderno || '--'}}</span></div><div class="col s3 item-select"><span>{{selectedEquipSignalItem.stationName || '--'}}</span></div><div class="col s4 item-select"><span>{{selectedEquipSignalItem.equipName || '--'}}</span></div><div class="col s3 item-select"><span>{{selectedEquipSignalItem.signalName || '--'}}</span></div></div></div></div></div><!-- 工作路线 --!><div style="margin-top:30px;" class="row usergroups-list"><div class="col s1"><span class="list-title">工作路线</span></div><div ng-repeat="workNode in workRoute" class="col s1"><div style="height:7vh;"><span>{{workNode.equipId}}</span></div><div><img ng-src="{{workNode.imgurl}}" title="{{workNode.lists}}"/></div></div></div><!-- 班组成员增减 --!><div style="margin-top:30px;" class="row usergroups-list"><div ng-repeat="(index7, member) in memberList" style="height: 56px;padding: 0;" class="col s6"><div class="col l3 list-title"><span ng-show="index7 == 0">班组成员</span></div><div style="padding: 0;" class="col l9"><input style="float:left;cursor:default;text-align: center;background: rgba(75,166,248,0.2);" readonly="readonly" value="{{member.name}}" class="list-input"/><div ng-click="updateMember(index7)" style="color: #4AC0FFFF;height: 19px;width: 18px;border: 1px solid;border-radius: 13px;margin-top: 10px;margin-left: 3px;cursor: pointer;float:left"><i style="font-size:16px;" class="material-icons">close</i></div></div></div><div style="height: 56px;padding: 0;" class="col s6"><div ng-show="memberList.length == 0" class="col l3 list-title">班组成员</div><div ng-hide="memberList.length == 0" class="col l3 list-title"></div><div style="height: 40px;padding: 10px 0;" ng-hide="showAddSelect" class="col l9"><div ng-click="showAddSelect=true" style="color: white;height: 19px;width: 18px;border: 1px solid;border-radius: 13px;margin: 1px 7px;cursor: pointer;float:left"><i style="font-size:16px;" class="material-icons">add</i></div><span>新添成员</span></div><div style="height: 40px;padding: 0;" ng-show="showAddSelect" class="col l9"><select ng-model="groupInfo.addUser" style="float:left" ng-change="updateMember(groupInfo.addUser)" class="browser-default filled-in list-input list-select"><option value="">--请选择--</option><option value="{{user.value}}" ng-repeat="(index8, user) in userList">{{user.name}}</option></select><div ng-click="showAddSelect=false" style="color: #4AC0FFFF;height: 19px;width: 18px;border: 1px solid;border-radius: 13px;margin: 10px 0px 0 3px;cursor: pointer;float:left"><i style="font-size:16px;" class="material-icons">close</i></div><i style="top: -20px;" class="material-icons list-icon">arrow_drop_down</i></div></div></div></div></div></div><div id="stationequip-signal-modal" md-modal="md-modal" style="width: 80%;" class="modal modal-fixed-footer"><div class="modal-content"><div class="container"><div style="text-align:center" class="row"><span style="color:rgba(170,201,244,1);" class="title">作业内容</span></div><div style="margin-top:50px;font-size:14px;" class="row"><div class="col s12 m6 l5"><device-tree controller="controller" parameters="{&quot;checkbox&quot;:true,&quot;filter&quot;:true}" style="height:85%;width:100%;" class="col tree-style"></device-tree></div><div style="height: 49vh;border: 1px solid #0050A0;padding: 0;overflow:auto;position: relative;" class="col s12 m6 l7"><div style="padding: 0;background: #112d69;height: 40px;line-height: 3;text-align: center;" class="col s12"><div style="text-align:left;" class="col s2"><md-checkbox ng-model="allSelectStatus" label="全选" ng-change="selectAllSignals()"></md-checkbox></div><div class="col s3">站点名称</div><div class="col s4">设备名称</div><div class="col s3">作业项</div></div><div style="padding: 0;text-align: left;" ng-repeat="(index3, equipSignalItem) in equipSignalList" ng-click="selectEquipSignal(index3, equipSignalItem)" ng-style="{'background':selectSignalNodeId==index3?'#356bde':''}" class="col s12 item-selects"><div class="col s2 item-select"><md-checkbox ng-model="equipSignalItem.chkstatus" label=""></md-checkbox></div><div class="col s3 item-select"><span>{{equipSignalItem.stationName || '--'}}</span></div><div class="col s4 item-select"><span>{{equipSignalItem.equipName || '--'}}</span></div><div class="col s3 item-select"><span>{{equipSignalItem.signalName || '--'}}</span></div></div></div></div></div></div><div class="modal-footer modal-nav"><nav><div class="nav-wrapper"><ul><li><a href="" ng-click="saveWorkItems()" title="确认"><i class="material-icons left">playlist_add_check</i><span class="hide-on-med-and-down">确认</span></a></li><ul class="right"><li><a href="" class="modal-action modal-close"><i class="material-icons right">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></ul></div></nav></div></div><link rel="stylesheet" href="/lib/gl-datepicker/styles/glDatePicker.default.css"/>